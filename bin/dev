#! /usr/bin/env bash

set -e

source lib/prompts.sh

declare +i -r STORYBOOK_HOST="http://localhost"
declare +i -r STORYBOOK_PORT="9999"
declare +i -r WEB_HOST="http://local.syrianmusic.org"
declare +i -r WEB_PORT="8888"

function dev() {
    docker compose up -d --build
    
    open "$STORYBOOK_HOST:$STORYBOOK_PORT"
    open "$WEB_HOST:$WEB_PORT"
    
    confirm "Do you want to attach this terminal to the test runner?" && bin/attach tests
}

dev "$@"
